# 3D 한글 조합 게임 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트명

**한글 플라이 (Hangul Fly)** - 3D 한글 조합 타이핑 게임

### 1.2 목적

한글날을 기념하여 한글의 자음과 모음 조합 원리를 시각적이고 재미있게 체험할 수 있는 인터랙티브 웹 게임 제작

### 1.3 타겟 사용자

- 한글에 관심있는 모든 연령대
- 타이핑 게임을 즐기는 사용자
- 한글 학습자 (외국인 포함)

## 2. 핵심 기능

### 2.1 게임 메커니즘

#### 2.1.1 게임 플레이

- 3D 공간에서 자음과 모음 객체가 자유롭게 날아다님
- 각 라운드마다 특정 단어를 기반으로 필요한 자음/모음이 화면에 표시됨
- 사용자는 날아다니는 글자들을 보고 키보드로 단어를 입력
- 정답을 맞추면 다음 단어로 진행
- 제한 시간 내에 최대한 많은 단어를 맞추는 것이 목표

#### 2.1.2 입력 방식

- **키보드 타이핑**: 사용자가 한글 키보드로 직접 입력
- 입력 중인 글자는 화면 하단에 실시간 표시
- Enter 키로 정답 제출
- Backspace로 수정 가능

#### 2.1.3 점수 시스템

- 정답 1개당 기본 점수: 100점
- 글자 수에 따른 보너스: 글자 수 × 20점
- 연속 정답 콤보 보너스: 콤보 수 × 10점
- 남은 시간 보너스: 빠르게 맞출수록 추가 점수

### 2.2 시각적 요소

#### 2.2.1 3D 객체 디자인

- **자음**: 파란색 계열, 각진 3D 메쉬 (큐브/육면체 기반)
- **모음**: 빨간색 계열, 둥근 3D 메쉬 (구/실린더 기반)
- 각 글자는 3D 텍스트 지오메트리로 표현
- 부드러운 회전 애니메이션 (Rotation)
- 랜덤한 궤적으로 화면을 떠다님

#### 2.2.2 애니메이션 효과

- **정답 시**:
  - 해당 자음/모음 객체들이 화면 중앙으로 모임
  - 조합되면서 완성된 글자로 합쳐지는 애니메이션
  - 파티클 이펙트와 함께 축하 효과
  - 글자가 커지면서 페이드아웃
- **오답 시**:

  - 화면 흔들림 효과
  - 입력창 빨간색 깜빡임

- **시간 경고**:
  - 남은 시간 10초 이하일 때 글자들의 움직임 속도 증가
  - 배경색이 점점 붉어짐

#### 2.2.3 UI/UX

- 상단: 남은 시간, 현재 점수, 콤보 카운터
- 중앙: 3D 캔버스 (날아다니는 글자들)
- 하단: 입력창, 현재 입력 중인 글자 표시
- 힌트 버튼: 단어의 뜻이나 카테고리 표시 (점수 감소)

### 2.3 게임 모드

#### 2.3.1 시간 제한 모드

- 제한 시간: 60초
- 최대한 많은 단어를 맞추는 것이 목표
- 정답 시 시간 추가 없음

#### 2.3.2 난이도 설정

- **쉬움**: 2-3글자 단어, 자음/모음 6-8개
- **보통**: 3-4글자 단어, 자음/모음 8-10개
- **어려움**: 4-5글자 단어, 자음/모음 10-15개

### 2.4 랭킹 시스템

#### 2.4.1 로컬 랭킹

- 브라우저 로컬 스토리지에 최고 점수 저장
- 난이도별 개인 최고 기록 표시
- 최근 10개 게임 기록 보관

#### 2.4.2 전체 랭킹 (확장 기능)

- 닉네임 입력 후 점수 제출
- 일별/주별/전체 랭킹 조회
- 상위 100명 리더보드 표시

## 3. 기술 스택

### 3.1 프론트엔드

- **React**: UI 상태 관리 및 컴포넌트 구조
- **TypeScript**: 타입 안정성 및 개발 생산성
- **Three.js**: 3D 그래픽 렌더링
- **TailwindCSS**: UI 스타일링

### 3.2 백엔드 (선택)

- **Firebase** 또는 **Supabase**: 랭킹 데이터 저장
- **REST API**: 점수 제출 및 조회

### 3.3 데이터

#### 3.3.1 단어 사전 구조

직접 큐레이션 방식으로 게임용 단어 데이터 구축

```typescript
interface GameWord {
  word: string; // 정답 단어
  hint: string; // 힌트 (뜻이나 설명)
  category: string; // 카테고리 (과일, 기술, 동물 등)
  difficulty: "easy" | "normal" | "hard"; // 난이도
}

// 예시
const gameWords: GameWord[] = [
  { word: "사과", hint: "빨간 과일", category: "과일", difficulty: "easy" },
  { word: "컴퓨터", hint: "전자기기", category: "기술", difficulty: "easy" },
  {
    word: "한글날",
    hint: "10월 9일",
    category: "기념일",
    difficulty: "normal",
  },
];
```

#### 3.3.2 한글 분해 시스템

단어를 자음/모음으로 자동 분해하는 유틸리티 함수 구현

```typescript
function decomposeHangul(word: string): string[] {
  const CHO = [
    "ㄱ",
    "ㄲ",
    "ㄴ",
    "ㄷ",
    "ㄸ",
    "ㄹ",
    "ㅁ",
    "ㅂ",
    "ㅃ",
    "ㅅ",
    "ㅆ",
    "ㅇ",
    "ㅈ",
    "ㅉ",
    "ㅊ",
    "ㅋ",
    "ㅌ",
    "ㅍ",
    "ㅎ",
  ];
  const JUNG = [
    "ㅏ",
    "ㅐ",
    "ㅑ",
    "ㅒ",
    "ㅓ",
    "ㅔ",
    "ㅕ",
    "ㅖ",
    "ㅗ",
    "ㅘ",
    "ㅙ",
    "ㅚ",
    "ㅛ",
    "ㅜ",
    "ㅝ",
    "ㅞ",
    "ㅟ",
    "ㅠ",
    "ㅡ",
    "ㅢ",
    "ㅣ",
  ];
  const JONG = [
    "",
    "ㄱ",
    "ㄲ",
    "ㄳ",
    "ㄴ",
    "ㄵ",
    "ㄶ",
    "ㄷ",
    "ㄹ",
    "ㄺ",
    "ㄻ",
    "ㄼ",
    "ㄽ",
    "ㄾ",
    "ㄿ",
    "ㅀ",
    "ㅁ",
    "ㅂ",
    "ㅄ",
    "ㅅ",
    "ㅆ",
    "ㅇ",
    "ㅈ",
    "ㅊ",
    "ㅋ",
    "ㅌ",
    "ㅍ",
    "ㅎ",
  ];

  const result: string[] = [];

  for (const char of word) {
    const code = char.charCodeAt(0) - 0xac00;
    if (code >= 0 && code <= 11171) {
      const cho = Math.floor(code / 588);
      const jung = Math.floor((code % 588) / 28);
      const jong = code % 28;

      result.push(CHO[cho], JUNG[jung]);
      if (jong !== 0) result.push(JONG[jong]);
    }
  }
  return result;
}

// 사용 예시: decomposeHangul('사과') → ['ㅅ', 'ㅏ', 'ㄱ', 'ㅘ']
```

#### 3.3.3 단어 데이터 확보 계획

- **프로토타입**: 직접 큐레이션 50-100개 단어
- **베타**: 오픈소스 데이터 활용하여 500개로 확장
- **정식 론칭**: 사용자 피드백 기반 지속적 개선

## 4. 개발 단계

### Phase 1: 프로토타입 (1주)

- [ ] Three.js 씬 설정 및 3D 텍스트 렌더링
- [ ] 자음/모음 3D 객체 생성 (색상/모양 구분)
- [ ] 랜덤 움직임 애니메이션 구현
- [ ] 기본 키보드 입력 처리

### Phase 2: 게임 로직 (1주)

- [ ] 단어 데이터 준비 (최소 50개)
- [ ] 초성 추출 및 정답 검증 로직
- [ ] 점수 시스템 구현
- [ ] 타이머 및 게임 상태 관리

### Phase 3: 비주얼 폴리싱 (1주)

- [ ] 정답/오답 애니메이션 구현
- [ ] 글자 조합 애니메이션
- [ ] 파티클 이펙트 추가
- [ ] UI 디자인 및 반응형 레이아웃

### Phase 4: 랭킹 시스템 (3일)

- [ ] 로컬 스토리지 랭킹 구현
- [ ] 게임 결과 화면 제작
- [ ] (선택) 서버 연동 및 전체 랭킹

### Phase 5: 테스트 및 배포 (3일)

- [ ] 크로스 브라우저 테스트
- [ ] 성능 최적화
- [ ] 모바일 대응 (터치 입력)
- [ ] 배포 (Vercel, Netlify 등)

## 5. 성공 지표

### 5.1 사용자 경험

- 평균 게임 플레이 시간: 3분 이상
- 재방문율: 30% 이상
- 게임 완료율: 70% 이상

### 5.2 기술적 성능

- 60 FPS 유지
- 초기 로딩 시간: 3초 이내
- 모바일 브라우저 지원

## 6. 확장 가능성

### 6.1 추가 기능 아이디어

- **멀티플레이어 모드**: 실시간 대결
- **일일 챌린지**: 매일 특정 주제의 단어 세트
- **커스텀 모드**: 사용자가 단어 세트 생성
- **학습 모드**: 틀린 단어 복습 기능
- **테마 변경**: 다크모드, 계절별 테마
- **사운드 효과**: BGM 및 효과음 추가

### 6.2 국제화

- 영어 UI 지원
- 외국인을 위한 한글 학습 모드
- 다국어 힌트 제공

## 7. 리스크 및 대응

### 7.1 기술적 리스크

- **Three.js 성능 이슈**: 객체 수 제한, LOD 적용
- **브라우저 호환성**: 폴백 UI 제공
- **모바일 성능**: 모바일에서는 객체 수 감소

### 7.2 콘텐츠 리스크

- **단어 부족**: 커뮤니티 기여로 단어 확장
- **난이도 불균형**: 사용자 피드백 기반 조정

## 8. 일정

- **킥오프**: 2025년 10월 4일
- **프로토타입 완료**: 2025년 10월 6일
- **베타 버전**: 2025년 10월 8일
- **정식 론칭**: 2025년 10월 9일 (한글날)

## 9. 참고 자료

- Three.js 공식 문서: https://threejs.org/docs/
- 한글 유니코드 구조: https://www.unicode.org/charts/PDF/UAC00.pdf
- 국립국어원 표준국어대사전 API
